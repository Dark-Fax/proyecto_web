<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Kinetica â€” Calculadora</title>

    <link rel="icon" href="{{ url_for('static', filename='img/Logo.png.jpg') }}" type="image/x-icon">

    <!-- CSS GLOBAL -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/calculadora.css') }}">
</head>

<body>

    {% include 'partials/sidebar.html' %}


    <!-- === CONTENIDO PRINCIPAL === -->
    <main class="content">

        {% include 'partials/header_usuario.html' %}

        <div class="calc-container">

            <h2 class="calc-title">ðŸ§® Calculadora de Recarga y Costos</h2>

            <form action="{{ url_for('calculadora.calcular') }}" method="POST" class="calc-box">

                <!-- INPUTS PRINCIPALES -->
                <label>AutonomÃ­a (km):</label>
                <input type="number" name="autonomia" step="any">

                <label>Capacidad de la baterÃ­a (kWh):</label>
                <input type="number" name="bateria_kwh" step="any">

                <label>Distancia a recorrer (km):</label>
                <input type="number" name="distancia" step="any">

                <label>Precio por kWh (COP):</label>
                <input type="number" name="precio_kwh" step="any">


                <!-- OPCIONALES: TASA DE CARGA -->
                <h3 class="calc-subtitle">Opcional â€” Datos de tasa de carga</h3>
                <p class="calc-note">
                    Si no ingresas estos campos, la calculadora usarÃ¡ una tasa estÃ¡ndar de <b>160 km / 30 min</b>.
                </p>

                <label>Â¿CuÃ¡ntos km carga tu vehÃ­culo por sesiÃ³n?</label>
                <input type="number" name="km_carga" step="any" placeholder="Ej: 160">

                <label>Â¿CuÃ¡ntos minutos tarda en esa carga?</label>
                <input type="number" name="min_carga" step="any" placeholder="Ej: 30">

                <button type="submit" class="calc-btn">Calcular</button>

            </form>


            <!-- === RESULTADOS === -->
            {% if resultados is defined %}
            <div class="calc-results">

                <h3>ðŸ“Š Resultados del cÃ¡lculo</h3>

                <div class="result-item"><strong>Cargas equivalentes necesarias:</strong> {{ resultados.cargas_totales }}</div>

                <div class="result-item"><strong>Recargas en ruta:</strong> {{ resultados.recargas_necesarias }}</div>

                <div class="result-item"><strong>EnergÃ­a total requerida:</strong> {{ resultados.energia_total }} kWh</div>

                <div class="result-item"><strong>Tiempo estimado de recarga:</strong>
                    {{ resultados.tiempo_minutos }} min (â‰ˆ {{ resultados.tiempo_horas }} h)
                </div>

                <div class="result-item"><strong>Costo total estimado:</strong>
                    ${{ "{:,.0f}".format(resultados.costo_total) }} COP
                </div>

            </div>
            {% endif %}

        </div>

    </main>
    <script src="{{ url_for('static', filename='js/Global.js') }}"></script>
</body>
</html>
